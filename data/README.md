# Data 

This file gives overall descriptions of the data used in the projects for CLAS12. All data can be found at https://userweb.jlab.org/~gavalian/ML/2021/


# Drift Chambers
The drift chambers consist of 6 layers, of 6 wires, of 112 sensors each for a total of 4032 sensors (see picture below). The data provided let us know whether a sensor
has detected a hit or not. Those detections might be part of the trajectory that we want to track or can be irrelevant (noise). The labeled data consist of all the possible combinations that form a track as rows (events) and the state of each sensor (detected something or not) as columns (features). The label provides information on whether a combination produces the valid track or not.

![Drift Chambers](https://crtc.cs.odu.edu/images/b/bf/Drift_Chambers.png)

## Classifier

The testing data are given in samples. A sample consists of multiple rows, the first row which is a valid track (labeled as 1) and all the invalid ones (labeled as 0) that come after it, the next valid track represents the beginning of a new sample. For example, consider the following dataset:

 | labels |     features     |
 |--------|------------------|
 |   1    |   x11 x12 x13 ...|
 |   0    |   x21 x22 x23 ...|
 |   0    |   x31 x32 x33 ...|
 |   0    |   x41 x42 x43 ...|
 |   1    |   x51 x52 x53 ...|
 |   0    |   x61 x62 x63 ...|
 
 
This dataset contains two samples:
          
           Sample 1
 | labels |     features     |   
 |--------|------------------|   
 |   1    |   x11 x12 x13 ...|   
 |   0    |   x21 x22 x23 ...|   
 |   0    |   x31 x32 x33 ...|
 |   0    |   x41 x42 x43 ...|
 
           Sample 2
 | labels |     features     |
 |--------|------------------|
 |   1    |   x51 x52 x53 ...|
 |   0    |   x61 x62 x63 ...|

### Classifier Phase 2
For the second phase (where Recurrent Neural Networks (RNNs) are used to generate data based on previous observations), only the valid tracks are taken into account. The input to the RNNs will be the first 24 values of each valid row (with label 1) in the 36 cols/row format as data and the rest columns will be used as the prediction targets.

For example, a dataset like this:

 1 1:29.00000 2:30.00000 3:29.00000 4:29.00000 5:29.00000 6:0.00000 7:30.00000 8:30.00000 9:29.50000 10:30.00000 11:29.00000 12:30.00000 ...
 0 1:23.00000 2:23.00000 3:23.00000 4:23.00000 5:22.00000 6:23.00000 7:26.00000 8:27.00000 9:26.00000 10:26.00000 11:26.00000 12:26.00000 ...
 1 1:12.00000 2:12.50000 3:12.00000 4:12.00000 5:11.00000 6:11.50000 7:13.00000 8:13.00000 9:13.00000 10:13.00000 11:12.00000 12:12.00000 ...
 0 1:5.00000 2:5.00000 3:4.00000 4:0.00000 5:4.00000 6:4.00000 7:13.00000 8:13.00000 9:13.00000 10:13.00000 11:12.00000 12:12.00000 ...
 1 1:64.00000 2:64.00000 3:64.00000 4:64.00000 5:64.00000 6:64.00000 7:71.00000 8:71.00000 9:71.00000 10:71.00000 11:71.00000 12:71.00000 ...
 0 1:54.00000 2:54.00000 3:54.00000 4:54.00000 5:54.00000 6:54.00000 7:60.00000 8:60.00000 9:60.00000 10:60.00000 11:60.00000 12:60.00000 ...
 1 1:23.00000 2:23.00000 3:23.00000 4:23.00000 5:22.00000 6:22.00000 7:26.00000 8:26.00000 9:26.00000 10:26.00000 11:25.00000 12:26.00000 ...
 0 1:14.00000 2:15.00000 3:14.00000 4:14.00000 5:13.00000 6:14.00000 7:17.00000 8:17.00000 9:17.00000 10:17.00000 11:16.00000 12:16.00000 ...
 1 1:55.00000 2:55.00000 3:55.00000 4:56.00000 5:55.00000 6:55.50000 7:59.00000 8:60.00000 9:59.00000 10:60.00000 11:59.00000 12:60.00000 ...
 0 1:38.00000 2:39.00000 3:38.00000 4:39.00000 5:39.00000 6:40.00000 7:43.00000 8:44.00000 9:43.00000 10:44.00000 11:44.00000 12:45.00000 ...
 1 1:12.00000 2:12.00000 3:12.00000 4:12.00000 5:11.00000 6:11.00000 7:14.00000 8:14.00000 9:13.00000 10:13.00000 11:12.50000 12:13.00000 ...
 0 1:12.00000 2:12.00000 3:12.00000 4:12.00000 5:11.00000 6:11.00000 7:0.00000 8:18.00000 9:0.00000 10:17.00000 11:17.00000 12:17.00000 ...
 1 1:43.00000 2:44.00000 3:43.00000 4:43.00000 5:43.00000 6:43.00000 7:43.00000 8:43.00000 9:43.00000 10:43.00000 11:43.00000 12:43.00000 ...
 0 1:32.00000 2:33.00000 3:32.00000 4:33.00000 5:32.00000 6:33.00000 7:34.00000 8:34.00000 9:34.00000 10:34.00000 11:34.00000 12:34.00000 ...
 1 1:25.00000 2:26.00000 3:25.00000 4:25.00000 5:25.00000 6:25.00000 7:25.00000 8:26.00000 9:25.00000 10:25.00000 11:24.00000 12:25.00000 ...

Will be converted to:

 1:29.00000 2:30.00000 3:29.00000 4:29.00000 5:29.00000 6:0.00000 7:30.00000 8:30.00000 9:29.50000 10:30.00000 11:29.00000 12:30.00000 ...
 1:12.00000 2:12.50000 3:12.00000 4:12.00000 5:11.00000 6:11.50000 7:13.00000 8:13.00000 9:13.00000 10:13.00000 11:12.00000 12:12.00000 ...
 1:64.00000 2:64.00000 3:64.00000 4:64.00000 5:64.00000 6:64.00000 7:71.00000 8:71.00000 9:71.00000 10:71.00000 11:71.00000 12:71.00000 ...
 1:23.00000 2:23.00000 3:23.00000 4:23.00000 5:22.00000 6:22.00000 7:26.00000 8:26.00000 9:26.00000 10:26.00000 11:25.00000 12:26.00000 ...
 1:55.00000 2:55.00000 3:55.00000 4:56.00000 5:55.00000 6:55.50000 7:59.00000 8:60.00000 9:59.00000 10:60.00000 11:59.00000 12:60.00000 ...
 1:12.00000 2:12.00000 3:12.00000 4:12.00000 5:11.00000 6:11.00000 7:14.00000 8:14.00000 9:13.00000 10:13.00000 11:12.50000 12:13.00000 ...
 1:43.00000 2:44.00000 3:43.00000 4:43.00000 5:43.00000 6:43.00000 7:43.00000 8:43.00000 9:43.00000 10:43.00000 11:43.00000 12:43.00000 ...
 1:25.00000 2:26.00000 3:25.00000 4:25.00000 5:25.00000 6:25.00000 7:25.00000 8:26.00000 9:25.00000 10:25.00000 11:24.00000 12:25.00000 ...

The features, in this case, are the first 24 columns, while the prediction targets are the rest 12, e.g.:

Training features:

 1:29.00000 2:30.00000 3:29.00000 4:29.00000 5:29.00000 6:0.00000 7:30.00000 8:30.00000 9:29.50000 10:30.00000 11:29.00000 12:30.00000 13:25.00000 14:26.00000 15:25.00000 16:25.00000 17:24.00000 18:0.00000 19:24.00000 20:24.00000 21:24.00000 22:24.00000 23:23.00000 24:23.00000 

Prediction targets:
 25:14.50000 26:14.50000 27:13.50000 28:14.00000 29:13.00000 30:13.00000 31:13.00000 32:13.00000 33:12.00000 34:12.00000 35:11.00000 36:11.00000

## Denoise
All input data are expected to be in lsvm format with 1 as the label for a valid track and 0 for an invalid one. Then the id of each wire that indicated a detection, followed by a colon and a 1 (`id: 1`). Wires with no detection can also be included with id colon 0 (`id: 0`). Below is an example:

1 38:1 151:1 262:1 374:1 486:1 598:1 715:1 939:1 1051:1 1163:1 1275:1 1376:1 1489:1 1600:1 1712:1 1823:1 1935:1 2050:1 2162:1 2273:1 2385:1 2386:1 2496:1 2497:1 2609:1 2699:1 2811:1 2922:1 3033:1 3034:1 3144:1 3145:1 3256:1 3369:1 3481:1 3592:1 3704:1

0 10:1 23:1 38:1 122:1 129:1 135:1 136:1 151:1 232:1 240:1 247:1 248:1 262:1 352:1 360:1 361:1 372:1 374:1 453:1 463:1 471:1 473:1 483:1 484:1 485:1 486:1 575:1 577:1 579:1 582:1 586:1 597:1 598:1 638:1 676:1 677:1 688:1 689:1 691:1 693:1 695:1 699:1 704:1 715:1 758:1 759:1 788:1 803:1 807:1 808:1 812:1 818:1 912:1 913:1 914:1 918:1 920:1 923:1 930:1 939:1 1010:1 1023:1 1024:1 1030:1 1036:1 1043:1 1051:1 1068:1 1069:1 1121:1 1134:1 1135:1 1141:1 1148:1 1163:1 1247:1 1260:1 1267:1 1275:1 1411:1 1436:1 1440:1 1441:1 1442:1 1489:1 1505:1 1549:1 1550:1 1551:1 1552:1 1553:1 1554:1 1555:1 1600:1 1625:1 1626:1 1662:1 1663:1 1712:1 1757:1 1762:1 1763:1 1769:1 1823:1 1869:1 1874:1 1935:1 2050:1 2079:1 2162:1 2234:1 2273:1 2385:1 2386:1 2496:1 2497:1 2609:1 2699:1 2733:1 2811:1 2922:1 3033:1 3034:1 3069:1 3095:1 3108:1 3144:1 3145:1 3179:1 3256:1 3336:1 3369:1 3481:1 3592:1 3621:1 3681:1 3703:1 3704:1 3814:1 3836:1 3897:1 3926:1 3991:1 3997:1 3998:1 4012:1

1 16:1 128:1 239:1 463:1 575:1 688:1 800:1 911:1 1024:1 1135:1 1247:1 1357:1 1358:1 1470:1 1581:1 1693:1 1804:1 1917:1 2028:1 2141:1 2252:1 2364:1 2475:1 2587:1 2696:1 2697:1 2809:1 2920:1 3032:1 3143:1 3255:1 3367:1 3479:1 3590:1 3703:1 3814:1 3926:1
